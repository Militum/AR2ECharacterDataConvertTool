{"version":3,"sources":["logics/UrlCheck.js","components/UrlInputForm.js","logics/IsJsonString.js","logics/ConvertToCharacter.js","components/JsonInputForm.js","App.js","reportWebVitals.js","index.js"],"names":["CheckUrl","url","domain","match","console","log","UrlInputForm","props","state","value","jsonUrl","onChange","bind","onClick","event","this","setState","target","preventDefault","alert","type","className","id","title","src","React","Component","IsJsonString","str","JSON","parse","e","requiredKeys","ConvertToCharacter","data","index","key","error","IsValidCharacterJson","convertData","character","kind","name","pc_name","memo","initiative","parseInt","BSUM6","externalUrl","status","label","NP8","max","NP9","V_fate","params","NP1","NP2","NP3","NP4","NP5","NP6","NP7","V_level","iconUrl","faces","x","y","angle","width","height","active","secret","invisible","hideStatus","color","commands","owner","ConvertJson","stringify","JsonInputForm","clipboardCopyData","newValue","convertJson","placeholder","text","onCopy","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.956e7e47.chunk.js","sourcesContent":["function CheckUrl(url) {\r\n    const domain = url.match(/^https?:\\/{2,}(.*?)(?:\\/|\\?|#|$)/)[1];\r\n    console.log(domain);\r\n    if (domain !== \"charasheet.vampire-blood.net\") {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport default CheckUrl;","import React from 'react'\r\nimport CheckUrl from '../logics/UrlCheck';\r\nimport '../style.css';\r\n\r\n/**\r\n * キャラクターシートのURL入力フォーム\r\n */\r\nclass UrlInputForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: \"\", jsonUrl: \"\"};\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onClick = this.onClick.bind(this);\r\n    }\r\n\r\n    onChange(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n\r\n    onClick(event) {\r\n        event.preventDefault();\r\n        const jsonUrl = this.state.value + \".json\";\r\n        const checkd = CheckUrl(jsonUrl);\r\n        if (!checkd) {\r\n            alert(\"無効なURLです\");\r\n            return;\r\n        }\r\n        this.setState({jsonUrl: jsonUrl});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <label>\r\n                    <span>キャラクターシートのURL:</span>\r\n                    <input type=\"text\" value={this.state.value} onChange={this.onChange} className=\"el-like-input\" />\r\n                </label>\r\n                <button id=\"button\" className=\"button\" onClick={this.onClick}>表示</button>\r\n                <br/>\r\n                <iframe title=\"json\" src={this.state.jsonUrl} className=\"frame\"></iframe>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UrlInputForm;","function IsJsonString(str) {\r\n    try {\r\n        JSON.parse(str);\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\nexport default IsJsonString;","const requiredKeys = [\r\n    'V_level', //CL\r\n    'V_fate', //FATE\r\n    'NP1', //筋力\r\n    'NP2', //器用\r\n    'NP3', //敏捷\r\n    'NP4', //知力\r\n    'NP5', //感知\r\n    'NP6', //精神\r\n    'NP7', //幸運\r\n    'NP8', //HP\r\n    'NP9', //MP\r\n    'pc_name', //PC名\r\n    'BSUM6', //イニシアチブ\r\n];\r\n\r\nfunction IsValidCharacterJson(data) {\r\n    for(const index in requiredKeys) {\r\n        const key = requiredKeys[index];\r\n        if (!(key in data)) {\r\n            console.error(`key not found ${key}`);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction ConvertJson(data) {\r\n    let character = { kind: \"character\", data: {}};\r\n    character.data.name = data.pc_name;\r\n    character.data.memo = '';\r\n    character.data.initiative = parseInt(data.BSUM6, 0);\r\n    character.data.externalUrl = '';\r\n    character.data.status = [\r\n        {label: 'HP', value: data.NP8, max: data.NP8},\r\n        {label: 'MP', value: data.NP9, max: data.NP9},\r\n        {label: 'FATE', value: data.V_fate, max: data.V_fate},\r\n    ];\r\n    character.data.params = [\r\n        {label: '筋力', value: data.NP1},\r\n        {label: '器用', value: data.NP2},\r\n        {label: '敏捷', value: data.NP3},\r\n        {label: '知力', value: data.NP4},\r\n        {label: '感知', value: data.NP5},\r\n        {label: '精神', value: data.NP6},\r\n        {label: '幸運', value: data.NP7},\r\n        {label: 'CL', value: data.V_level},\r\n    ];\r\n    character.data.iconUrl = null;\r\n    character.data.faces = [];\r\n    character.data.x = 0;\r\n    character.data.y = 0;\r\n    character.data.angle = 0;\r\n    character.data.width = 4;\r\n    character.data.height = 4;\r\n    character.data.active = true;\r\n    character.data.secret = false;\r\n    character.data.invisible = false;\r\n    character.data.hideStatus = false;\r\n    character.data.color = '#888888';\r\n    character.data.commands = '';\r\n    character.data.owner = null;\r\n    return character;\r\n}\r\n\r\nfunction ConvertToCharacter(data) {\r\n    if (!IsValidCharacterJson(data)) {\r\n        return false;\r\n    }\r\n    const convertData = ConvertJson(data);\r\n    console.log(convertData);\r\n    return JSON.stringify(convertData);\r\n}\r\n\r\nexport default ConvertToCharacter;","import React from 'react'\r\nimport IsJsonString from '../logics/IsJsonString';\r\nimport ConvertToCharacter from '../logics/ConvertToCharacter';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport '../style.css';\r\n\r\n/**\r\n * 変換元のJSONを入力するフォーム\r\n */\r\nclass JsonInputForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: \"\", clipboardCopyData: \"\"};\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    onChange(event) {\r\n        const newValue = event.target.value;\r\n        this.setState({value: newValue});\r\n        if (!IsJsonString(newValue)) {\r\n            return;\r\n        }\r\n        const convertJson = ConvertToCharacter(JSON.parse(newValue));\r\n        if (!convertJson) {\r\n            return;\r\n        }\r\n        this.setState({clipboardCopyData: convertJson});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <textarea \r\n                    value={this.state.value}\r\n                    placeholder=\"キャラクターシートのJSON文字列({}で囲まれているやつ)を入力してください\"\r\n                    onChange={this.onChange}\r\n                    className=\"textarea\"\r\n                />\r\n                <br/>\r\n                <CopyToClipboard\r\n                    text={this.state.clipboardCopyData}\r\n                    onCopy={() => alert('クリップボードにコピーしました。CCFOLIAのルームに貼り付けてください')}\r\n                >\r\n                    <button className=\"button\">クリップボードにコピーする</button>\r\n                </CopyToClipboard>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JsonInputForm;","import React from 'react';\r\nimport UrlInputForm from './components/UrlInputForm';\r\nimport JsonInputForm from './components/JsonInputForm';\r\n\r\nimport './style.css';\r\n\r\nfunction App() {\r\n    return (\r\n        <div className=\"app-body\">\r\n            <div className=\"container\">\r\n                <h3>AR2E CCFOLIA用キャラ駒作成ツール(α版)</h3>\r\n                <UrlInputForm/>\r\n                <br />\r\n                <JsonInputForm></JsonInputForm>\r\n            </div>\r\n            <ul>\r\n                <span>使い方</span>\r\n                <li>キャラクター保管所のキャラクターシートのURLを入力し「表示」をクリック</li>\r\n                <li>「二番目の枠」に表示された文字列を全て選択してコピーし、「三番目の枠」にペースト</li>\r\n                <li>「クリップボードにコピーする」をクリック</li>\r\n                <li>ココフォリア部屋にペーストする</li>\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}